#:import Factory kivy.factory.Factory

<Telas>:
    Cadastro:
        name: 'tela_cad'
    Usuario:
        name: 'tela_usuarios'
    User:
        name: 'tela_user'

<Usuario>:
    on_enter: root.show()
    BoxLayout:
        orientation: 'vertical'
        padding: 10
        spacing: 10
        ScrollView:
            BoxLayout:
                spacing: 2
                size_hint_y: None
                id: rel_users
                orientation: 'vertical'
                height: self.minimum_height
        Button:
            size_hint_y: 0.1
            font_size: 25
            text: 'CADASTRO'
            on_release: app.root.current = 'tela_cad'

<Botao>:
    size_hint_y: None
    height: 30
    on_release: root.nome()

<Cadastro>:
    BoxLayout:
        orientation: 'vertical'
        spacing: 10
        padding: 20
        BoxLayout:
            orientation: 'vertical'
            spacing: 15
            padding: 10
            Label:
                text: 'Insira o nome:'
                halign: 'left'
                color: 0, 0, 0, 1
                text_size: self.size
            TextInput:
                id: nome
                multiline: False
                
            Label:
                text: 'Insira o saldo da carteira:'
                halign: 'left'
                color: 0, 0, 0, 1
                text_size: self.size
            TextInput:
                id: saldo
                multiline: False
                input_filter: 'float'
            Button:
                font_size: 22
                size_hint_y: 1.3
                text: 'Cadastrar'
                on_release: root.cadastrar()
        
        Label:
            id: resposta
            color: 0, 0, 0, 1
            font_size: 35
            text_size: self.size
            valign: 'center'
            halign: 'center'
        
        Button:
            font_size: 22
            text: 'Usu√°rios'
            on_release: app.root.current = 'tela_usuarios'

<User>:
    BoxLayout:
        orientation: 'vertical'
        spacing: 10
        padding: 10
        Label:
            id: name_user
            text: ''
            font_size: 35
            size_hint_y: None
            height: 40
            color: 0, 0, 0, 1
        Label:
            id: saldo_user
            font_size: 35
            size_hint_y: None
            height: 40
            color: 0, 0, 0, 1
        Button:
            text: 'Adicionar'
            font_size: 22
            on_release: Factory.MyPopup().open()
            size_hint_y: None
            height: 40
        Button:
            text: 'Voltar'
            font_size: 22
            on_release: app.root.current = 'tela_usuarios'
            size_hint_y: None
            height: 40
        Button:
            text: 'Excluir'
            font_size: 22
            on_release: root.excluir()
            size_hint_y: None
            height: 40

<MyPopup@Popup>:
    auto_dismiss: False
    title: 'Adicionar saldo'
    size_hint: None, None
    size: 250, 200
    BoxLayout:
        orientation: 'vertical'
        spacing: 15
        padding: 10
        TextInput:
            id: add_saldo
            input_filter: 'float'
            multiline: False
            font_size: 25
            size_hint_y: None
            height: 40
        BoxLayout:
            spacing: 5
            padding: 5
            Button:
                text: 'Salvar'
                on_release: 
                size_hint_y: None
                size_hint_x: 0.6
                height: 40
            Button:
                text: 'Fechar'
                on_release: root.dismiss()
                size_hint_y: None
                size_hint_x: 0.6
                height: 40